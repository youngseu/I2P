<html>
<head>
    <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyAYEEMvjDueGiy2FfgGbjuny8S-IoM89eg&sensor=false"></script>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>
        var points = [
            {lat: '51.508742', lng: '-0.130850', tips: '1'},
            {lat: '52.508742', lng: '-0.130850', tips: '2'},
            {lat: '53.508742', lng: '-0.130850', tips: '2'},
            {lat: '54.508742', lng: '-0.130850', tips: '2'},
            {lat: '55.508742', lng: '-0.130850', tips: '2'},
            {lat: '56.508742', lng: '-0.130850', tips: '2'},
            {lat: '57.508742', lng: '-0.130850', tips: '2'},
            {lat: '58.508742', lng: '-0.130850', tips: '2'},
        ];

        //        $.ajax({
        //            url:'xxx/path/to/json',
        //            success:function (data) {
        //                points = JSON.parse(data);
        //                google.maps.event.addDomListener(window, 'load', initialize);
        //            }
        //        });

        function drawPoints(points, map) {
            points.forEach(function (e) {
                //call google map set lat,lng
                var marker = new google.maps.Marker({
                    position: new google.maps.LatLng(e.lat, e.lng)
                });
                marker.setMap(map);
            });
        }

        var myCenter = new google.maps.LatLng(51.508742, -0.120850);

        var initialize = (function (cb) {
            return function () {
                var mapProp = {
                    center: myCenter,
                    zoom: 3,
                    //ROADMAP,SATELLITE,HYBRID,TERRAIN
                    mapTypeId: google.maps.MapTypeId.TERRAIN
                };

                var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);

                /*var marker = new google.maps.Marker({
                 position: myCenter,
                 });*/

                //marker.setMap(map);
                cb.call(null, points, map);
            }

        })(drawPoints);

        google.maps.event.addDomListener(window, 'load', initialize);

    </script>
    <style type="text/css">
        html {
            height: 100%;
            margin: 0;
        }

        body {
            height: 100%;
            margin: 0;
        }
    </style>
</head>

<body>
<div id="googleMap" style="width:100%;height:100%;"></div>
</body>
</html>